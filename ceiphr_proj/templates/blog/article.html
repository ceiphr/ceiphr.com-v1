{% extends "base.html" %}
{% block content %}
{% load static %}
{% load thumbnail %}
{% load markdownify %}
<article>
    <div class="article__cover-image">
        <picture>
            {% thumbnail article.image "1920x960" format="WEBP" as webp %}
            <source data-srcset="{{ webp.url }}" type="image/webp" media="(min-width: 1024px)">
            {% endthumbnail %}
            {% thumbnail article.image "1920x960" format="JPEG" as jpeg %}
            <source data-srcset="{{ jpeg.url }}" type="image/jpeg" media="(min-width: 1024px)">
            {% endthumbnail %}
            {% thumbnail article.image "1024x512" format="WEBP" as webp %}
            <source data-srcset="{{ webp.url }}" type="image/webp" media="(max-width: 1024px)">
            {% endthumbnail %}
            {% thumbnail article.image "1024x512" format="JPEG" as jpeg %}
            <source data-srcset="{{ jpeg.url }}" type="image/jpeg" media="(max-width: 1024px)">
            {% endthumbnail %}
            {% thumbnail article.image "128x64" format="JPEG" as jpeg %}
            <source srcset="{{ jpeg.url }}" type="image/jpeg">
            {% endthumbnail %}
            <img class="lazyload blur-up--cover" alt="{{ title }}">
        </picture>
    </div>
    <section class="hero is-medium is-dark is-bold">
        <div class="hero-body">
            <div class="container has-text-centered">
                <h1 class="title">
                    {{ title }}
                </h1>
                <h2 class="subtitle article__detail">
                    Ari Birnbaum — {{ article.published }}
                </h2>
            </div>
        </div>
    </section>
    <section class="container slide-on-load">
        <div class="columns is-centered article__body is-desktop box">
            <div class="column is-8-desktop is-medium">
                <div class="article__contents">
                    {{ article.body | markdown | safe }}
                </div>
                <br>
                <p class="title is-6">Written By</p>
                <div class="media">
                    <div class="media-left">
                        <figure class="image avatar">
                            <picture>
                                {% thumbnail avatar "64x64" format="WEBP" as webp %}
                                <source srcset="{{ webp.url }}" type="image/webp">
                                {% endthumbnail %}
                                {% thumbnail avatar "64x64" format="JPEG" as jpeg %}
                                <source srcset="{{ jpeg.url }}" type="image/jpeg">
                                {% endthumbnail %}
                                <img class="is-rounded" alt="Ari Birnbaum">
                            </picture>
                        </figure>
                    </div>
                    <div class="media-content">
                        <p class="title is-4">Ari Birnbaum</p>
                        <p class="subtitle is-5 article__detail"><a href="mailto:contact@ceiphr.com">contact@ceiphr.com</a></p>
                    </div>
                </div>
                <div class="content">
                    <br>
                    This article is licensed under <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">
                        <svg class="cc__icon icon is-small" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24px" height="24px">
                            <path d="M12,2C6.486,2,2,6.486,2,12s4.486,10,10,10s10-4.486,10-10S17.514,2,12,2z M8.5,14c0.328,0,0.639-0.104,0.899-0.299 l1.202,1.598C9.992,15.758,9.265,16,8.5,16C6.57,16,5,14.43,5,12.5v-1C5,9.57,6.57,8,8.5,8c0.765,0,1.492,0.242,2.101,0.701 l-1.202,1.598C9.139,10.104,8.828,10,8.5,10C7.673,10,7,10.673,7,11.5v1C7,13.327,7.673,14,8.5,14z M16.5,14 c0.328,0,0.639-0.104,0.899-0.299l1.202,1.598C17.992,15.758,17.265,16,16.5,16c-1.93,0-3.5-1.57-3.5-3.5v-1C13,9.57,14.57,8,16.5,8 c0.765,0,1.492,0.242,2.101,0.701l-1.202,1.598C17.139,10.104,16.828,10,16.5,10c-0.827,0-1.5,0.673-1.5,1.5v1 C15,13.327,15.673,14,16.5,14z"/>
                        </svg>
                        Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0)</a>.
                    You may redistribute this article if you follow the terms of the license.
                    <br>
                    <hr>
                    <div class="article__info">
                        <div class="article__pub">
                            Published on <time datetime="{{ article.published }}">{{ article.published }}</time>
                            {% if article.published != article.modified %}
                            <br>
                            <i>Last modified on <time
                                    datetime="{{ article.modified }}">{{ article.modified }}</time></i>
                            {% else %}
                            <br>
                            <i>Article unmodified since published</i>
                            {% endif %}
                            <br>
                        </div>
                        <div class="article__tags tags is-pulled-right-desktop">
                            {% for tag in tags %}
                            <a href="/blog/?tag={{ tag.name }}"><span class="tag">{{ tag.name }}</span></a>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
            <div class="column is-2-desktop">
                <div class="sidebar__wrapper">
                    <div class="sidebar__widgets">
                        <div class="referral side_widget box on-hover">
                            <a href="https://m.do.co/c/b95c2a8a5568" aria-label="digital ocean" rel="noopener">
                                <div class="referral__logo">
                                    <img src="{% static 'svg/do.svg' %}" alt="digital ocean" />
                                </div>
                                <p class="referral__content">
                                    This website is hosted on Digital Ocean. Use my referral link for a discount.
                                </p>
                            </a>
                        </div>
                        {% if not 1debug %}
                        <script async type="text/javascript"
                            src="//cdn.carbonads.com/carbon.js?serve=CK7I62QM&placement=ceiphrcom" id="_carbonads_js">
                        </script>
                        {% endif %}
                    </div>
                    <div class="share__wrapper">
                        <a href="https://reddit.com/submit?url={{ article.short_url }}&title={{ article.title|urlencode }}"
                            target="_blank" rel="noreferrer" aria-label="Facebook" class="button">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" width="30px" height="30px">
                                <path style="line-height:normal;text-indent:0;text-align:start;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000;text-transform:none;block-progression:tb;isolation:auto;mix-blend-mode:normal" d="M 17.662109 2 C 15.565005 2 14 3.7131367 14 5.6621094 L 14 9.0351562 C 11.24971 9.1810926 8.7344872 9.9143634 6.7265625 11.064453 C 5.9527826 10.321405 4.9166871 9.991448 3.9121094 9.9921875 C 2.8229214 9.9929893 1.7094525 10.370413 0.94140625 11.234375 L 0.92382812 11.253906 L 0.90625 11.273438 C 0.16947928 12.194228 -0.12225605 13.427747 0.07421875 14.652344 C 0.25365009 15.770711 0.90137168 16.893419 2.0273438 17.628906 C 2.0199689 17.753058 2 17.874618 2 18 C 2 22.962 7.832 27 15 27 C 22.168 27 28 22.962 28 18 C 28 17.874618 27.980031 17.753058 27.972656 17.628906 C 29.098628 16.893419 29.74635 15.770711 29.925781 14.652344 C 30.122256 13.427747 29.830521 12.194228 29.09375 11.273438 L 29.076172 11.253906 L 29.058594 11.234375 C 28.290448 10.370294 27.177168 9.9929893 26.087891 9.9921875 C 25.08323 9.991448 24.046988 10.321133 23.273438 11.064453 C 21.265513 9.9143634 18.75029 9.1810926 16 9.0351562 L 16 5.6621094 C 16 4.6830821 16.565214 4 17.662109 4 C 18.182797 4 18.817104 4.2609042 19.810547 4.609375 C 20.650361 4.9039572 21.743308 5.2016984 23.140625 5.2910156 C 23.474875 6.2790874 24.402814 7 25.5 7 C 26.875 7 28 5.875 28 4.5 C 28 3.125 26.875 2 25.5 2 C 24.561213 2 23.747538 2.5304211 23.320312 3.3007812 C 22.125831 3.2346294 21.248238 2.9947078 20.472656 2.7226562 C 19.568849 2.4056271 18.738422 2 17.662109 2 z M 3.9121094 11.992188 C 4.3072494 11.991896 4.6826692 12.095595 4.9921875 12.263672 C 3.8881963 13.18517 3.0505713 14.261821 2.5449219 15.4375 C 2.2764358 15.106087 2.114647 14.734002 2.0507812 14.335938 C 1.9430146 13.664243 2.1440212 12.966045 2.4628906 12.552734 C 2.7642172 12.228395 3.3144613 11.992626 3.9121094 11.992188 z M 26.085938 11.992188 C 26.683756 11.992627 27.235874 12.22849 27.537109 12.552734 C 27.855979 12.966045 28.056985 13.664243 27.949219 14.335938 C 27.885353 14.734002 27.723564 15.106087 27.455078 15.4375 C 26.949429 14.261821 26.111804 13.18517 25.007812 12.263672 C 25.316626 12.095792 25.690955 11.991896 26.085938 11.992188 z M 10 14 C 11.105 14 12 14.895 12 16 C 12 17.105 11.105 18 10 18 C 8.895 18 8 17.105 8 16 C 8 14.895 8.895 14 10 14 z M 20 14 C 21.105 14 22 14.895 22 16 C 22 17.105 21.105 18 20 18 C 18.895 18 18 17.105 18 16 C 18 14.895 18.895 14 20 14 z M 20.238281 19.533203 C 19.599281 21.400203 17.556 23 15 23 C 12.444 23 10.400719 21.400969 9.7617188 19.667969 C 10.911719 20.600969 12.828 21.267578 15 21.267578 C 17.172 21.267578 19.088281 20.600203 20.238281 19.533203 z" font-weight="400" font-family="sans-serif" white-space="normal" overflow="visible"/>
                            </svg>
                        </a>
                        <a href="https://twitter.com/share?url={{ article.short_url }}&amp;text={{ article.title|urlencode }}&amp;hashtags={% for tag in tags %}{% if not forloop.last %}{{ tag.name }}%2C%20{% else %}{{ tag.name }}{% endif %}{% endfor %}&via=ceiphr"
                            target="_blank" rel="noreferrer" aria-label="Twitter" class="button">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="50" height="50" fill="000000">
                                <path d="M22,3.999c-0.78,0.463-2.345,1.094-3.265,1.276c-0.027,0.007-0.049,0.016-0.075,0.023c-0.813-0.802-1.927-1.299-3.16-1.299 c-2.485,0-4.5,2.015-4.5,4.5c0,0.131-0.011,0.372,0,0.5c-3.353,0-5.905-1.756-7.735-4c-0.199,0.5-0.286,1.29-0.286,2.032 c0,1.401,1.095,2.777,2.8,3.63c-0.314,0.081-0.66,0.139-1.02,0.139c-0.581,0-1.196-0.153-1.759-0.617c0,0.017,0,0.033,0,0.051 c0,1.958,2.078,3.291,3.926,3.662c-0.375,0.221-1.131,0.243-1.5,0.243c-0.26,0-1.18-0.119-1.426-0.165 c0.514,1.605,2.368,2.507,4.135,2.539c-1.382,1.084-2.341,1.486-5.171,1.486H2C3.788,19.145,6.065,20,8.347,20 C15.777,20,20,14.337,20,8.999c0-0.086-0.002-0.266-0.005-0.447C19.995,8.534,20,8.517,20,8.499c0-0.027-0.008-0.053-0.008-0.08 c-0.003-0.136-0.006-0.263-0.009-0.329c0.79-0.57,1.475-1.281,2.017-2.091c-0.725,0.322-1.503,0.538-2.32,0.636 C20.514,6.135,21.699,4.943,22,3.999z"/>
                            </svg>
                        </a>
                        <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url={{ article.short_url }}&amp;title={{ article.title|urlencode }}&amp;summary={{ article.summary|urlencode }}&amp;source=Ceiphr"
                            target="_blank" rel="noreferrer" aria-label="LinkedIn" class="button">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="50" height="50" fill="000000">
                                <path d="M19,3H5C3.895,3,3,3.895,3,5v14c0,1.105,0.895,2,2,2h14c1.105,0,2-0.895,2-2V5C21,3.895,20.105,3,19,3z M9,17H6.477v-7H9 V17z M7.694,8.717c-0.771,0-1.286-0.514-1.286-1.2s0.514-1.2,1.371-1.2c0.771,0,1.286,0.514,1.286,1.2S8.551,8.717,7.694,8.717z M18,17h-2.442v-3.826c0-1.058-0.651-1.302-0.895-1.302s-1.058,0.163-1.058,1.302c0,0.163,0,3.826,0,3.826h-2.523v-7h2.523v0.977 C13.93,10.407,14.581,10,15.802,10C17.023,10,18,10.977,18,13.174V17z"/>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
    </section>
    <section class="container recs slide-on-load">
        <div class="columns is-desktop">
            {% for post in recs|slice:":3" %}
            <div class="column">
                <a href="/blog/{{ post.slug }}/" aria-label="{{ post.title }}">
                    <div class="card on-hover">
                        <div class="card-image">
                            <figure class="image">
                                <picture>
                                    {% thumbnail post.image "1024x512" format="WEBP" as webp %}
                                    <source data-srcset="{{ webp.url }}" type="image/webp">
                                    {% endthumbnail %}
                                    {% thumbnail post.image "1024x512" format="JPEG" as jpeg %}
                                    <source data-srcset="{{ jpeg.url }}" type="image/jpeg">
                                    {% endthumbnail %}
                                    {% thumbnail post.image "128x64" format="JPEG" as jpeg %}
                                    <source srcset="{{ jpeg.url }}" type="image/jpeg">
                                    {% endthumbnail %}
                                    <img class="lazyload blur-up" alt="{{ post.title }}">
                                </picture>
                            </figure>
                        </div>
                        <div class="card-content">
                            <div class="content">
                                <p class="title is-4">{{ post.title }}</p>
                                <p class="subtitle is-6 article__detail">{{ post.published }} — {{ post.read_time }}
                                    {% if post.read_time > 1 %}mins{% else %}min{% endif %}</p>
                                <p class="summary">{{ post.summary }}</p>
                            </div>
                        </div>
                    </div>
                </a>
            </div>
            {% endfor %}
        </div>
    </section>
</article>
{% if article.latex_support %}
<script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>
{% endif %}
<style type="text/css">
    @media print {
        nav,
        .article__cover-image,
        .card .media,
        .card .title,
        .sidebar__wrapper,
        #carbonads,
        .recs,
        .cc__icon,
        .tags,
        footer {
            display: none !important;
        }
    }
</style>
{% endblock content %}